# LLM vulnerability detection study

## Links

TODO

## Implementation details

- StarCoder is the base model of StarChat-Beta; see https://huggingface.co/blog/starchat-alpha.
- We used the next-largest 13B version of LLAMA 2 because we lacked the resources to run the 70B version.
- Code LLAMA's example scripts set \texttt{top\_p} to 0.9; see https://github.com/facebookresearch/codellama/blob/main/example\_completion.py\#L15.
- OpenAI recommends to alter either temperature or top_p, but not both, for their models; see https://platform.openai.com/docs/api-reference/chat/create.

## Model survey

| Model                                          | Organization              | Parameters (Billion) | Fine-tuned for Instruction-following/chat?                                                    | Trained on code?                                                | Inference?                                   | Fine-tune?                                                                   | How to access?                                                                 | Exclusion rationale                |
|------------------------------------------------|---------------------------|----------------------|-----------------------------------------------------------------------------------------------|-----------------------------------------------------------------|----------------------------------------------|------------------------------------------------------------------------------|--------------------------------------------------------------------------------|------------------------------------|
| GPT-4                                          | OpenAI                    | undisclosed          | Yes                                                                                           | Yes                                                             | Yes, API                                     | No                                                                           | OpenAI API                                                                     |                                    |
| GPT-3.5-turbo                                  | OpenAI                    | undisclosed          | Yes                                                                                           | Yes                                                             | Yes, API                                     | Yes https://platform.openai.com/docs/guides/fine-tuning                      | OpenAI API                                                                     |                                    |
| Llama 2                                        | Meta                      | 70B, 13B, 7B         | Yes                                                                                           | Yes                                                             | Yes, HF                                      | Yes, HF                                                                      | HF https://huggingface.co/meta-llama/Llama-2-70b-chat-hf                       |                                    |
| Code Llama                                     | Meta                      | 7B, 13B, 34B         | Yes                                                                                           | Yes                                                             | Yes, HF                                      | Yes, HF                                                                      | HF https://huggingface.co/codellama/CodeLlama-7b-hf                            |                                    |
| wizardcoder                                    | Microsoft                 | 15B                  | Yes                                                                                           | Yes                                                             | Yes, HF                                      | Yes, HF                                                                      | HF https://huggingface.co/WizardLM/WizardCoder-15B-V1.0                        |                                    |
| StarCoder                                      | HuggingFace Collaboration | 15.5B                | No (but demonstrates that it can be prompted to act as an assistant)                          | Yes                                                             | Yes, Huggingface                             | Yes, Github                                                                  | HF https://huggingface.co/bigcode/starcoder                                    |                                    |
| StarChat-Beta                                  | HuggingFace Collaboration | 15.5B                | Yes                                                                                           | Yes                                                             | Yes, HF                                      | Yes                                                                          | HF https://huggingface.co/HuggingFaceH4/starchat-beta                          |                                    |
| Mistral                                        | Mistral AI                | 7                    |                                                                                               |                                                                 |                                              |                                                                              |                                                                                |                                    |
| Mixtral                                        | Mistral AI                | 8x7B                 |                                                                                               |                                                                 |                                              |                                                                              |                                                                                |                                    |
| magicoder                                      | UIUC                      | 7                    |                                                                                               |                                                                 |                                              |                                                                              |                                                                                |                                    |
| Gemini                                         | Google                    |                      |                                                                                               |                                                                 |                                              |                                                                              |                                                                                |                                    |
| codegeex2                                      | Tsinghua University       | 6B                   | Yes                                                                                           | Yes                                                             | Yes, HF                                      | Yes, HF                                                                      | HF https://huggingface.co/THUDM/codegeex2-6b                                   | Not performing well                |
| chatglm2                                       | Tsinghua University       | undisclosed          | Yes                                                                                           | Yes? (not clearly stated but mentions added code training data) | Yes, HF                                      | Yes, HF                                                                      | HF https://huggingface.co/THUDM/chatglm2-6b                                    | Not performing well                |
| internlm-chat                                  | InternLM Team             | 7B                   | Yes                                                                                           | Yes                                                             | Yes, HF                                      | Yes, HF                                                                      | HF https://huggingface.co/internlm/internlm-chat-7b                            | Not performing well                |
| Falcon                                         | TII Abu Dhabi             | 40                   | Yes                                                                                           | No                                                              | Yes, HF                                      | Yes, HF                                                                      | HF https://huggingface.co/tiiuae/falcon-7b                                     | Not trained on code                |
| PaLM 2 https://developers.generativeai.google/ | Google                    |                      |                                                                                               |                                                                 |                                              |                                                                              |                                                                                | Subsumed by gemini                 |
| phi-1                                          | Microsoft                 | 1.3                  |                                                                                               |                                                                 |                                              |                                                                              |                                                                                | Doesn't follow instructions        |
| InstructCodeT5+                                | SalesForce                | 16                   |                                                                                               |                                                                 |                                              |                                                                              |                                                                                | Doesn't follow instructions        |
| grok                                           | X                         | 33                   |                                                                                               |                                                                 |                                              |                                                                              |                                                                                | API is in early access             |
| inflection-1                                   | Pi                        |                      |                                                                                               |                                                                 |                                              |                                                                              |                                                                                | Not available on API               |
| BLOOM                                          | HuggingFace Collaboration | 176B                 | Yes                                                                                           | Yes                                                             | Yes, Huggingface                             | No (too big)                                                                 | HF https://huggingface.co/bigscience/bloom                                     | Too big                            |
| SantaCoder                                     | HuggingFace Collaboration | 1.1B                 | No                                                                                            | Yes                                                             | Yes, Huggingface                             | Yes                                                                          | HF https://huggingface.co/bigcode/santacoder                                   | Subsumed by SantaCoder             |
| text-davinci-003                               | OpenAI                    | undisclosed          | No https://platform.openai.com/docs/model-index-for-researchers/models-referred-to-as-gpt-3-5 | Yes                                                             | Yes, API                                     | No                                                                           | OpenAI API                                                                     | Subsumed by gpt-3.5-turbo          |
| text-davinci-002                               | OpenAI                    | undisclosed          | No                                                                                            | Yes                                                             | Yes, API                                     | No                                                                           | OpenAI API                                                                     | Subsumed by gpt-3.5-turbo          |
| text-bison-001 (PaLM 2)                        | Google                    | undisclosed          | No                                                                                            | No                                                              | Yes, API                                     | Yes https://cloud.google.com/vertex-ai/docs/generative-ai/models/tune-models | Google Cloud API                                                               | Subsumed by gpt-3.5-turbo          |
| CodeGen                                        | SalesForce                | 16                   | Yes                                                                                           | Yes                                                             | Yes, HF                                      | Yes, HF                                                                      | HF https://huggingface.co/Salesforce/codegen2-16B                              | Not tuned for instructions         |
| chatglm                                        | Tsinghua University       | 6B                   | Yes                                                                                           | No                                                              | Yes, HF                                      | Yes, HF                                                                      | HF https://huggingface.co/THUDM/chatglm-6b                                     | Not tuned on code                  |
| wizardlm                                       | Microsoft                 | 30B, 13B             | Yes                                                                                           | Yes? (instruction distillation - not sure if it includes code)  | Yes, HF                                      | Yes, HF                                                                      | HF https://huggingface.co/WizardLM/WizardLM-70B-V1.0                           | Subsumed by WizardCoder            |
| koala                                          | UC Berkeley               | 13B                  | Yes                                                                                           | No                                                              | Yes, HF                                      | Yes, HF                                                                      | HF https://huggingface.co/young-geng/koala                                     | Not trained on code                |
| Bard                                           | Google                    | 137B                 |                                                                                               |                                                                 | No - browser only                            | No                                                                           |                                                                                | Not available                      |
| claude                                         | Anthropic                 | undisclosed          |                                                                                               |                                                                 | No - browser only, API waitlist seems closed |                                                                              | api                                                                            | Not available                      |
| claude-instant                                 | Anthropic                 | undisclosed          |                                                                                               |                                                                 | No - browser only, API waitlist seems closed |                                                                              | api                                                                            | Not available                      |
| OPT                                            | Meta                      | 175                  |                                                                                               |                                                                 | Yes, Huggingface                             | Yes, smaller version                                                         | Yes                                                                            | Not SOTA from this organization    |
| LLaMA                                          | Meta                      | 65                   |                                                                                               |                                                                 | Waitlist (but model weights were leaked ðŸ™‚)  | Yes, once we have the weights https://huggingface.co/blog/stackllama         | Waitlist                                                                       | Not SOTA from this organization    |
| Pythia                                         | EleutherAI                | 12B                  | No                                                                                            | No                                                              | Yes, Huggingface                             | Yes                                                                          | HF https://huggingface.co/EleutherAI/pythia-70m                                | Not trained on code                |
| GPT-J                                          | EleutherAI                | 6B                   | No                                                                                            | No                                                              | Yes, Huggingface                             | Yes                                                                          | HF https://huggingface.co/docs/transformers/model_doc/gptj                     | Not trained on code                |
| GPT-Neo                                        | EleutherAI                | 20B                  | No                                                                                            | No                                                              | Yes, Huggingface                             | Yes                                                                          | HF https://huggingface.co/docs/transformers/model_doc/gpt_neo                  | Not trained on code                |
| baichuan                                       | Baichuan Inc.             | 13B                  | Yes                                                                                           | No                                                              | Yes, HF                                      | Yes, HF                                                                      | HF https://huggingface.co/baichuan-inc/Baichuan-7B                             | Not trained on code                |
| dolly                                          | Databricks                | 12B                  | Yes                                                                                           | No                                                              | Yes, HF                                      | Yes, HF                                                                      | HF https://huggingface.co/databricks/dolly-v2-12b                              | Not trained on code                |
| oasst-sft-4                                    | LAION                     | 12B                  | Yes                                                                                           | No? (does not mention data besides instruction training data)   | Yes, HF                                      | Yes, HF                                                                      | HF https://huggingface.co/OpenAssistant/oasst-sft-4-pythia-12b-epoch-3.5       | Not trained on code                |
| openchat                                       | Tsinghua                  | 13B, 6B              | Yes                                                                                           | Yes? (instruction distillation - not sure if it includes code)  | Yes, HF                                      | Yes, HF                                                                      | HF https://huggingface.co/openchat/openchat                                    | Distilled from ChatGPT completions |
| vicuna                                         | LMSYS                     | 13B, 7B              | Yes                                                                                           | Yes? (instruction distillation - not sure if it includes code)  | Yes, HF                                      | Yes, HF                                                                      | HF https://github.com/lm-sys/FastChat/blob/main/docs/vicuna_weights_version.md | Distilled from ChatGPT completions |


## Extended results

TODO
